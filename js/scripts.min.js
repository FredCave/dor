var Space={container:"",scene:"",camera:"",renderer:"",controls:"",cube:"",clock:new THREE.Clock,init:function(){console.log("Space.init")},animate:function(){console.log("Space.animate")},update:function(){console.log("Space.update")},render:function(){console.log("Space.render")}},Page={init:function(){console.log("Page.init")}};$(document).on("ready",function(){Page.init(),Space.init(),Space.animate()});var Space={container:"",scene:"",camera:"",renderer:"",controls:"",cube:"",clock:new THREE.Clock,cubeIndex:0,init:function(){console.log("Space.init"),this.scene=new THREE.Scene;var a=window.innerWidth,b=window.innerHeight,c=45,d=a/b,e=.1,f=2e4;this.camera=new THREE.PerspectiveCamera(c,d,e,f),this.scene.add(this.camera),this.camera.position.set(0,150,400),this.camera.lookAt(this.scene.position),Detector.webgl?this.renderer=new THREE.WebGLRenderer({antialias:!0}):this.renderer=new THREE.CanvasRenderer,this.renderer.setSize(a,b),this.container=document.getElementById("space"),this.container.appendChild(this.renderer.domElement),THREEx.WindowResize(this.renderer,this.camera),this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement);var g=new THREE.AxisHelper(100);this.scene.add(g),this.loadCubeData()},animate:function(){console.log("Space.animate");setTimeout(function(){requestAnimationFrame(Space.animate)},1e3/30),Space.render(),Space.update()},update:function(){console.log("Space.update"),this.controls.update()},render:function(){console.log("Space.render"),this.renderer.render(this.scene,this.camera)},loadCubeData:function(){console.log("Space.loadCube");var a=this;$.get(ROOT+"/wp-json/custom/v1/cubes",function(b){a.cubeData=b,a.generateCube()}).fail(function(){console.log("Ajax error. Cube not loaded.")})},generateCube:function(){console.log("Space.generateCube");var a=this,b=this.cubeData[this.cubeIndex];this.cubeIndex++,_.each(b,function(b){a.generateLayer(b)})},generateLayer:function(a){console.log("Space.generateLayer");var b=5e3,c=[];for(var d in a)a.hasOwnProperty(d)&&c.push(a[d].url);for(var e=new THREE.CubeGeometry(b,b,b),f=[],g=0;g<6;g++)f.push(new THREE.MeshBasicMaterial({map:THREE.ImageUtils.loadTexture(c[g]),side:THREE.BackSide,transparent:!0}));var h=new THREE.MeshFaceMaterial(f),i=new THREE.Mesh(e,h);this.scene.add(i)}};